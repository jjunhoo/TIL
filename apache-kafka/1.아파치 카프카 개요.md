## 아파치 카프카 개요

### 아파치 카프카
- 아파치 카프카는 여러 대의 분산 서버에서 대량의 데이터를 처리하는 분산 메시징 시스템이다.
- 메시지 (데이터)를 받고, 받은 메시지를 다른 시스템이나 장치에 보내기 위해 사용된다.
- 대량의 데이터를 '높은 처리량'과 '실시간'으로 취급
    - 확장성 : 여러 서버로 '확장 구성' 할 수 있기 때문에 데이터 양에 따라 시스템 확장이 가능
    - 영속성 : 수신한 데이터를 '디스크에 유지' 가능하기 때문에 언제라도 데이터 읽기 가능
    - 유연성 : '연계 가능 제품' 이 다양하기 때문에 제품이나 시스템을 연결하는 허브 역할을 한다.
    - 신뢰성 : '메시지 전달 보증'을 하므로 데이터 분실을 걱정하지 않아도 된다.
    
### 카프카 탄생 배경
#### 링크드인의 시스템 요구사항
- 카프카는 2011년 미국 링크드인에서 출발하였으며, 링크드인 웹사이트에서 생성되는 로그를 처리하여 웹사이트 활동을 추적하는 것을 목적으로 개발되었다. 
    
### 카프카 이전 제품
> 메시지 큐
- RabbitMQ, ActiveMQ, JMS, IBM MQ
1. 강력한 전달 보증이 오버 스펙이었다.
    - 하나의 메시지가 정확히 한 번만 전송되는 것을 보증할 수 있다.
2. 스케일 아웃이 용이한 제품이 아니었다.
    - 처리 성능을 높이는 목적으로 필요 시 노드를 추가할 수 있는 스케일 아웃 기능을 전제로 한 제품이 당시에는 없었다.
3. 메시지가 대량으로 쌓이는 것을 예상하지 않았다.
    - 카프카 등장 이전의 메시지 큐에서는 메시지를 쌓아둘 수 있었는데, 큐에 쌓인 메시지는 즉시 이용되는 것으로 예상하고 있었으며, 장시간에 걸쳐 대량으로 축적하는 것은 예상하지 않았다.
    
> 로그 수집 시스템
- 실시간으로 데이터를 수집한다는 관점에서 생각할 수 있는 것은 로그 수집을 위한 미들웨어이다.

1. HDFS로 데이터 축적과 배치 처리만 고려했다.
2. 알기 쉬운 API가 없다.
3. 수신하는 쪽이 임의로 메시지를 수신하기 어렵다.

> ETL 도구 
- 데이터 발생원에서 데이터를 추출하고 필요에 따라 변환해 데이터베이스와 데이터 웨어하우스에 로드하는 기능
- Extract - 추출, Transform - 변환, Load - 로드 
- DataStage, Interstage, Cosminexus, Informatica PowerCenter, Talend 등

1. 데이터를 파일 단위로 다룬다.
2. 수신하는쪽이 임의로 메시지를 수신하기 어렵다.

### 카프카로 링크드인 요구사항 실현하기

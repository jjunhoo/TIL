## 06. 스프링 부트 API 서버 구축

- 외부 시스템을 위한 인터페이스인 API 서버 구축
    - JSON 기반 웹 서비스 구축
    - 스프링 REST Docs 를 활용한 API 문서화
    - 스프링 부트로 만든 API 포털에서 다양한 API 제공
    - 스프링 헤이티오스 (HATEOAS) 를 사용한 하이퍼미디어 활용
    - API 포털에 하이퍼미디어 링크 추가
    
### HTTP 웹 서비스 구축

- 오늘날 E-Commerce 와 Mesh-Up 분야에서 가장 중요한 키워드는 JSON 
- Repository 에서 데이터를 조회한 후 Model 생성 및 템플릿에 바인딩하여 화면을 반환하는 대신 데이터를 그대로 반환하는 방법

````java
// API 컨트롤러 정의
// 1. 컴포넌트 스캐닝을 통해 자동으로 스프링이 스캔하여 Bean 등록
// 2. 데이터 객체 자체 반환 
@RestController 
public class ApiItemController {
    
    private final ItemRepository repository;
    
    public ApiItemController(ItemRepository repository) {
        this.repository = repository;
    }
}
```` 
    
````java
// 모든 상품을 반환하는 API
@GetMapping("/api/items")
Flux<Item> findAll() { // Fulx<Item> 리턴 타입이므로 Fulx 는 0개 또는 그 이상의 Item 객체가 JSON 구조로 직렬화 돼서 응답 본문에 기록
    return this.repository.findAll();
}
````

````java
// 1개의 Item을 조회하는 API
@GetMapping("/api/items/{id}")
Mono<Item> findOne(@PathVariable String id) {
    return this.repository.findById(id);
}
````